<div
  class="fixed inset-0 w-full h-screen flex flex-col overflow-hidden select-none z-0"
  style="background: url('/background.png') center center / contain no-repeat #000000;"
>
  <!-- Navbar transparente arriba -->
  <nav
    class="w-full flex items-center h-40 px-6 md:px-12 z-20
         bg-white/0  absolute top-0 left-0"
  >
    <!-- Logo → Inicio -->
    <a
      routerLink="/"
      class="flex items-center transition-transform hover:scale-105 active:scale-95"
      aria-label="Ir a inicio"
      tabindex="0"
    >
      <svg viewBox="0 0 240 240" width="140" height="140" fill="none" xmlns="http://www.w3.org/2000/svg"
           class="drop-shadow-[0_0_50px_rgba(255,255,255,0.22)] animate-pulse group-hover:drop-shadow-[0_0_90px_rgba(255,255,255,0.35)] transition-all duration-300">
        <defs>
          <filter id="glow" x="-40%" y="-40%" width="180%" height="180%">
            <feGaussianBlur stdDeviation="12" result="blur"/>
            <feMerge>
              <feMergeNode in="blur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
          <linearGradient id="cube-face" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.6"/>
            <stop offset="100%" stop-color="#c3c3c3" stop-opacity="0.22"/>
          </linearGradient>
        </defs>
        <g filter="url(#glow)">
          <polygon points="70,50 120,30 170,50 120,70" fill="url(#cube-face)" stroke="#fff" stroke-width="2"/>
          <polygon points="70,50 70,100 120,120 120,70" fill="url(#cube-face)" stroke="#fff" stroke-width="2"/>
          <polygon points="170,50 170,100 120,120 120,70" fill="url(#cube-face)" stroke="#fff" stroke-width="2"/>
          <polyline points="70,66 70,116 120,136" stroke="#fff" stroke-opacity="0.35" stroke-width="1"/>
          <polyline points="70,82 70,132 120,152" stroke="#fff" stroke-opacity="0.20" stroke-width="1"/>
          <line x1="70" y1="100" x2="120" y2="120" stroke="#fff" stroke-opacity="0.5" stroke-width="1"/>
          <line x1="87" y1="108" x2="120" y2="120" stroke="#fff" stroke-opacity="0.25" stroke-width="1"/>
          <polyline points="170,66 170,116 120,136" stroke="#fff" stroke-opacity="0.35" stroke-width="1"/>
          <polyline points="170,82 170,132 120,152" stroke="#fff" stroke-opacity="0.20" stroke-width="1"/>
          <line x1="170" y1="100" x2="120" y2="120" stroke="#fff" stroke-opacity="0.5" stroke-width="1"/>
          <line x1="153" y1="108" x2="120" y2="120" stroke="#fff" stroke-opacity="0.25" stroke-width="1"/>
        </g>
      </svg>
    </a>

    <!-- Enlace a Lobby -->
    <a
      routerLink="/lobby"
      class="absolute left-1/2 -translate-x-1/2  <!-- truco de centrado -->
           text-sm font-medium text-white/80 hover:text-white transition"
    >
      Lobby
    </a>

    <!-- Nombre + logout -->
    <div class="ml-auto flex items-center gap-4">
      @if (user$ | async; as data) {
        <span class="text-sm font-medium text-white">
        {{ getName(data.user.name) }}
      </span>

        <button
          type="button"
          class="text-white/70 text-sm hover:text-white transition-colors cursor-pointer"
          (click)="logout()"
        >
          Cerrar sesión
        </button>
      } @else {
        <div class="w-20 h-5 bg-white/10 animate-pulse rounded"></div>
      }
    </div>
  </nav>


  <!-- Main content centrado -->
  <main class="flex-1 flex flex-col items-center justify-center relative z-10 pt-28">
    <router-outlet></router-outlet>
  </main>
</div>
